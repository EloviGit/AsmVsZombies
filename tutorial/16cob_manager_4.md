<!--
 * @Coding: utf-8
 * @Author: vector-wlc
 * @Date: 2021-09-25 18:39:42
 * @Description:
-->
# 炮管理类——炮序模式

在 ACobManager 类中，有一个十分重要的成员我们还未介绍，那就是 `SetSequentialMode`，在 本框架 中，有三种可用的炮序模式：

- 时间模式（默认）
- 空间模式
- 优先级模式

如果想设定炮序使用模式，需要使用 `SetSequentialMode` 函数，示例如下：
```C++
// 将炮序模式设置为空间模式
aCobManager.SetSequentialMode(ACobManager::SPACE);

// 将炮序模式设置为优先级模式
aCobManager.SetSequentialMode(ACobManager::PRIORITY);
```
## 空间使用模式
在空间使用模式下，炮管理类对象将会完全按照炮列表的顺序（也就是 `SetList` 时指定的顺序）进行发射，第一次发射列表中的第一门炮。第二次发射第二门，以此类推。如果准备发射的这门炮尚未恢复则会报错。这种模式的好处在于我们每时每刻都知道将要发射的是哪门炮，但缺点是在涉及天台或铲种时，可能会需要比较烦人的炮序调整。

## 时间使用模式
时间使用模式是空间使用模式的升级版。在此模式下，如果某次发射时轮到的炮没有恢复，炮管理类对象会自动向后遍历列表，直到找到一门可用的炮为止。这种模式下原地铲种不需要调整炮序，但是同样会带来一个麻烦：我们可能无法提前知道某一时刻发射的是哪门炮，此时如果需要铲种就会比较麻烦。这种情况下，就需要调用前一个文章中的函数 `FixLatest` 了，炮管理类对象会自动铲种上一次发射的炮。因此如果解中只存在原地铲种且不关心铲种的位置时，推荐使用此模式与 `FixLatest` 的组合。

## 优先级使用模式
这种模式与时间使用模式都会在发射时遍历列表，但遍历逻辑不同。举个例子，如果每 40s 发射一门炮（这个间隔长于炮 CD），那么前两种模式会按照炮列表的顺序发射，而优先级模式会一直发射炮列表中的第一门炮。具体来说，在优先级模式下，炮管理类对象每次发炮都会**从头**开始扫描炮列表，找到第一门可以恢复的炮并发射。这种模式非常适合管理有位置要求的铲种。

[目录](./0catalogue.md)
